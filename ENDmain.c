/*在1602的第一行显示时间和日期，第二行显示温度.
可以设置闹钟，到了时间开启蜂鸣器。温度高于35度开启电机 */
#include"END.h"
//**************************************************************************************************
//精确延时函数(使用12M晶振，延时T=2*t+5个指令周期,t为char型,改为int型,会加大误差）
//**************************************************************************************************
void delay(uint t)
{
 while(--t);
}
//**************************************************************************************************
//延时函数
//**************************************************************************************************
delay1(uint time)         //int型数据为16位,所以最大值为65535            
 {
  uint  i,j;             //定义变量i,j,用于循环语句 
  for(i=0;i<time;i++)    //for循环,循环50*time次
     for(j=0;j<120;j++); //for循环,循环50次
 }
//**************************************************************************************************
//延时函数
//**************************************************************************************************
delay2(uint time)         //int型数据为16位,所以最大值为65535            
 {
  uint  i,j;             //定义变量i,j,用于循环语句 
  for(i=0;i<time;i++)    //for循环,循环50*time次
     for(j=0;j<100;j++); //for循环,循环50次
 }
//**************************************************************************************************
//主函数
//**************************************************************************************************
main()
{ 
   uint temp;      //临时变量保存温度值
   InitLCD();	   //初始化1602
   InitLCD();      //液晶初始化
   timer0_init();  //定时器初始化
     while(1)               //死循环
    {  
   Handle();       // 时间数据处理
   temp=get_temp();   //获取温度值
   chuli(temp);       //温度数据处理   
   xian1();	       //显示第一行	   
   xian2();		   //显示第二行	
   delay1(500);         //延时
   }
}
